{"version":3,"file":"vue.js","sources":["../src/compile/index.js","../src/observer/arr.js","../src/observer/index.js","../src/initState.js","../src/init.js","../src/index.js"],"sourcesContent":["\n// <div id=\"app\"> hello {{ msg }} <h></h></div>\n// ast语法树 vnode \n/**\n * {\n * tag: 'div',\n * attrs: [{id:\"app\"}],\n * children:[tag:null,text:hello,{tag:'div'}]\n * }\n */\n\n// 标签名 a-aaa\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\n// 命名空间标签 aa:aa-xxx\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <span:xx> \n// 开始标签-捕获标签名\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\n// 结束标签-匹配标签结尾的 </div>\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\n// 匹配属性\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; {/* <div id=\"app\"></div> */ }\n// 匹配标签结束的 >\nconst startTagClose = /^\\s*(\\/?)>/;\n// 匹配 {{ }} 表达式\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\n// 遍历\nfunction start(tag, attrs) {  // 开始标签\n    console.log(tag, attrs, '开始的标签')\n\n\n}\n\nfunction charts(text) { // 获取文本\n    console.log(text, '文本内容部分')\n\n}\nfunction end(tag) { // 结束的标签\n    console.log(tag, '结束标签')\n}\n\n// \n\nfunction parseHTML(html) {\n    // <div id=\"app\"> hello {{ msg }} <h></h></div>  // 开始标签，文本，结束标签\n    while (html) {  // html 为空结束\n        // 判断标签 <>\n        let textEnd = html.indexOf('<') // 如果为0的话 证明第一个是<，说明是一个标签\n        if (textEnd === 0) { // 标签\n            // (1) 开始标签\n            const startTagMatch = parseStartTag() // 开始标签的内容 {}\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs)\n                continue\n            }\n            // (2)结束标签\n            let endTagMatch = html.match(endTag)\n            console.log(endTagMatch)\n            if (endTagMatch) {\n                advance(endTagMatch[0].length)\n                end(endTagMatch[1])\n                continue\n            }\n        }\n\n        // 文本处理\n        let text\n        if (textEnd > 0) {\n            console.log(textEnd)\n            // 获取文本内容\n            text = html.substring(0, textEnd)\n            // console.log(text)\n        }\n        if (text) {\n            advance(text.length)\n            charts(text)\n            // console.log(html)\n        }\n        // break;\n    }\n    function parseStartTag() {\n        // 解析开始标签\n        const start = html.match(startTagOpen) // 1.结果 2.false\n        if (start) {\n            // console.log(start)\n            // 创建语法树 ast\n            let match = {\n                tagName: start[1],\n                attrs: []\n            }\n            // 删除 开始标签\n            advance(start[0].length)\n            // 属性\n            // 注意  多个属性需要遍历\n            // 注意  结束标签 \">\"\n            let attr\n            let end\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                // console.log(attr)  // {}\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\n                advance(attr[0].length)\n\n            }\n\n\n            // 当字符剩下一个'>'符号的时候，需要通过end去处理它\n            if (end) {\n                // console.log(end)\n                advance(end[0].length)\n                return match\n            }\n        }\n\n    }\n    function advance(n) {\n        // 表示拿到从n开始后面的东西\n        html = html.substring(n)\n        // console.log(html)\n    }\n}\nexport function compileToFunction(template) {\n\n\n    let ast = parseHTML(template)\n}","// 重写数组\n// 1. 获取原来的数组方法\nlet oldArrayProtoMethods = Array.prototype\n\n// 2. 继承数组的方法\n/**\n * 使用Object.create() 方法创建一个新对象，并将这个新对象的原型设置为oldArrayProtoMethods\n */\nexport let ArrayMethods = Object.create(oldArrayProtoMethods)\n\n// 3.劫持数组的方法\nlet methods = [\n    \"push\",\n    \"pop\",\n    \"unshift\",\n    \"shift\",\n    \"splice\"\n]\n\n// 通过遍历methods数组中的每个方法名，将对应的函数重新定义ArrayMethods\nmethods.forEach(item => {\n    ArrayMethods[item] = function (...args) {\n        // console.log('劫持数组')\n        // 将方法内部的\"this\"指向当前的数组对象，并传入args作为参数\n        /**\n         * oldArrayProtoMethods[item]=arr.push(arr) \n         * 所以得需要绑定this\n         */\n        let result = oldArrayProtoMethods[item].apply(this, args)\n        // console.log(args)   // [{b:6}]\n        // 问题： 数组追加对象的情况 arr arr.push({a:1})\n        let inserted\n        switch (item) {\n            case 'push':\n            case 'unshift':\n                inserted = args\n                break;\n            case 'splice': \n                inserted = args.splice(2)   // arr.splice(0,1,{b:6})  // 除去前面两种方法，所以传参数2\n                break;\n            \n        }\n        // console.log(inserted)\n        \n        let ob = this.__ob__ \n        if(inserted){\n            ob.observerArray(inserted) // 对我们添加的对象进行劫持\n        }\n        return result\n    }\n})","import { ArrayMethods } from \"./arr\"\n\nexport function observer(data) {\n    // console.log(data)\n\n    // TODO: (1) 对象的处理 vue2\n    // 判断\n    if (typeof data != 'object' || data === null) {\n        return data\n    }\n    // 通过一个类进行劫持\n    return new Observer(data)\n\n}\n\nclass Observer {\n    constructor(value) {\n        // 给 data 定义一个属性\n        Object.defineProperty(value, \"__ob__\", {\n            enumerable: false,\n            value: this\n        })\n\n        // console.log(value)\n        // 判断数据是数组还是对象\n        if (Array.isArray(value)) {\n            // 处理数组\n            // 将value的原型指向ArrayMethods\n            value.__proto__ = ArrayMethods\n            // console.log(value)\n            // console.log(value)\n            // 如果你是数组对象\n            this.observerArray(value) // 数组对象劫持\n        } else {\n            // 处理对象\n            this.walk(value)  // 遍历\n        }\n\n    }\n    walk(data) {  // { msg: 'hello' }\n        // 原始写法\n        // let keys = Object.keys(data)\n        // for(let i=0;i<keys.length;i++) {\n        //     // 对我们的每个属性进行劫持\n        //     let key = keys[i]\n        //     let value = data[key]\n        //     definedReactive(data,key,value)\n        // }\n\n        // Es6写法\n        for (let [key, value] of Object.entries(data)) {\n            definedReactive(data, key, value)\n        }\n    }\n\n    observerArray(value) {  // [{a:1}]\n        for (let i = 0; i < value.length; i++) {\n            observer(value[i])\n        }\n    }\n\n}\n// 对 对象中的属性进行劫持\nfunction definedReactive(data, key, value) {\n    observer(value) // 深度代理\n    Object.defineProperty(data, key, {\n        // 获取的时候触发\n        get() {\n            // console.log('获取的时候触发')\n            return value  // 返回值\n        },\n        set(newValue) {\n            // console.log('设置的时候触发')\n            if (newValue === value) return value\n            observer(newValue)  // 如果用户设置的值是对象\n            value = newValue\n        }\n    })\n}\n\n\n// vue2 object.defineProperty 缺点：对象中的一个属性  {a:1,b:2}\n\n// {a:{},list:[]}\n\n// 总结：1) 对象\n// 1、vue2 object.defineProperty 有缺点，只能对对象中的一个属性进行劫持 \n// 2、遍历{a:1,b:2,obj:{}}\n// 3、递归 get    set\n\n\n// 数组 {list: [1,2,3,4],arr:[{a:1}]}\n// 方法函数劫持，劫持数组方法 通过 arr.push()\n\n","import { observer } from \"./observer/index\"\n\nexport function initState(vm) {\n    let opts = vm.$options\n    // console.log(opts)\n    // 判断\n    if(opts.props){\n        initProps()\n    }\n    if(opts.data){\n        initData(vm)\n    }\n    if(opts.watch){\n        initWatch()\n    }\n    if(opts.computed){\n        initComputed()\n    }\n    if(opts.methods){\n        initMethods()\n    }\n\n    // 计算属性\n    function initComputed() {}\n    // 方法属性\n    function initMethods() {}\n    // Props属性\n    function initProps() {}\n    // watch方法\n    function initWatch() {}\n\n\n    // data属性  TODO: 对data初始化 \n    function initData(vm) {\n        // console.log('data初始化',vm) // 1. data可能是对象 2.对象可能是函数\n        let data = vm.$options.data\n        vm._data = typeof data === \"function\" ? data.call(vm):data // 注意 this指向问题\n        data = vm._data  \n        // 数据进行劫持\n        // 将data 上的所有属性代理到实例上 vm {a:1,b:2}\n        \n        for(let key in data){\n            proxy(vm,\"_data\",key) \n        }\n        observer(data)\n    }\n\n    function proxy(vm,source,key) {\n        Object.defineProperty(vm,key,{\n            get() {\n                return vm[source][key]\n            },\n            set(newValue) {\n                vm[source][key] = newValue\n            }\n        })\n    }\n\n    // data{}  (1) 对象 (2) 数组 {a:{b:1},list:[1,2,3],arr:[{}]}\n\n\n\n    \n}","import { compileToFunction } from \"./compile/index\"\nimport { initState } from \"./initState\"\n\n// 为 Vue.js 添加初始化 mixin\nexport function initMixin(Vue) {\n    // 将 _init 方法添加到 Vue.prototype 中\n    Vue.prototype._init = function (options) {\n        // console.log(options)\n\n        // 将当前实例赋值给 vm\n        let vm = this\n        \n        // 将传入的 options 对象赋值给实例的 $options 属性\n        vm.$options = options\n        \n        // 初始化实例状态\n        initState(vm)\n        console.log(vm)\n\n\n        // 渲染模版  el\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el)\n\n        }\n\n    }\n\n    // 创建 $mount方法\n    Vue.prototype.$mount = function (el) {\n        console.log(el)\n        // el template render\n        let vm = this\n        el = document.querySelector(el)  // 获取元素\n        let options = vm.$options\n        if(!options.render) {  // 没有render\n            let template = options.template\n            if(!template && el) {\n                // 获取html\n                el = el.outerHTML\n                console.log(el) \n                \n                // 变成ast语法树\n                let ast = compileToFunction(el)\n\n                // render()\n            }  \n        }\n    }\n}\n\n// ast语法树 vnode \n /**\n  * {\n  * tag: 'div',\n  * attrs: [{id:\"app\"}],\n  * children:[tag:null,text:hello,{tag:'div'}]\n  * }\n  */\n\n\n\n\n\n\n","import {initMixin} from './init'\n\nfunction Vue(options) {\n    // console.log(options)\n    // 初始化\n    this._init(options)\n\n}\n\ninitMixin(Vue)\n\nexport default Vue"],"names":["ncname","qnameCapture","concat","startTagOpen","RegExp","endTag","attribute","startTagClose","start","tag","attrs","console","log","charts","text","end","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","match","advance","length","substring","attr","push","name","value","n","compileToFunction","template","oldArrayProtoMethods","Array","prototype","ArrayMethods","Object","create","methods","forEach","item","_len","arguments","args","_key","result","apply","inserted","splice","ob","__ob__","observerArray","observer","data","_typeof","Observer","_classCallCheck","defineProperty","enumerable","isArray","__proto__","walk","_createClass","key","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","definedReactive","i","get","set","newValue","initState","vm","opts","$options","props","initData","watch","computed","_data","call","proxy","source","initMixin","Vue","_init","options","el","$mount","document","querySelector","render","outerHTML"],"mappings":";;;;;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,IAAMA,MAAM,GAAiC,8BAAA,CAAA;IAC7C;IACA,IAAMC,YAAY,GAAAC,MAAAA,CAAAA,MAAA,CAAUF,MAAM,EAAAE,OAAAA,CAAAA,CAAAA,MAAA,CAAQF,MAAM,EAAG,GAAA,CAAA,CAAC;IACpD;IACA,IAAMG,YAAY,GAAG,IAAIC,MAAM,MAAAF,MAAA,CAAMD,YAAY,CAAG,CAAA,CAAA;IACpD;IACA,IAAMI,MAAM,GAAG,IAAID,MAAM,SAAAF,MAAA,CAASD,YAAY,EAAS,QAAA,CAAA,CAAA,CAAA;IACvD;IACA,IAAMK,SAAS,GAAG,2EAA2E,CAAA;IAC7F;IACA,IAAMC,aAAa,GAAG,YAAY,CAAA;;IAIlC;IACA,SAASC,KAAKA,CAACC,GAAG,EAAEC,KAAK,EAAE;IAAG;MAC1BC,OAAO,CAACC,GAAG,CAACH,GAAG,EAAEC,KAAK,EAAE,OAAO,CAAC,CAAA;IAGpC,CAAA;IAEA,SAASG,MAAMA,CAACC,IAAI,EAAE;IAAE;IACpBH,EAAAA,OAAO,CAACC,GAAG,CAACE,IAAI,EAAE,QAAQ,CAAC,CAAA;IAE/B,CAAA;IACA,SAASC,GAAGA,CAACN,GAAG,EAAE;IAAE;IAChBE,EAAAA,OAAO,CAACC,GAAG,CAACH,GAAG,EAAE,MAAM,CAAC,CAAA;IAC5B,CAAA;;IAEA;;IAEA,SAASO,SAASA,CAACC,IAAI,EAAE;IACrB;IACA,EAAA,OAAOA,IAAI,EAAE;IAAG;IACZ;QACA,IAAIC,OAAO,GAAGD,IAAI,CAACE,OAAO,CAAC,GAAG,CAAC,CAAC;QAChC,IAAID,OAAO,KAAK,CAAC,EAAE;IAAE;IACjB;IACA,MAAA,IAAME,aAAa,GAAGC,aAAa,EAAE,CAAC;IACtC,MAAA,IAAID,aAAa,EAAE;YACfZ,KAAK,CAACY,aAAa,CAACE,OAAO,EAAEF,aAAa,CAACV,KAAK,CAAC,CAAA;IACjD,QAAA,SAAA;IACJ,OAAA;IACA;IACA,MAAA,IAAIa,WAAW,GAAGN,IAAI,CAACO,KAAK,CAACnB,MAAM,CAAC,CAAA;IACpCM,MAAAA,OAAO,CAACC,GAAG,CAACW,WAAW,CAAC,CAAA;IACxB,MAAA,IAAIA,WAAW,EAAE;IACbE,QAAAA,OAAO,CAACF,WAAW,CAAC,CAAC,CAAC,CAACG,MAAM,CAAC,CAAA;IAC9BX,QAAAA,GAAG,CAACQ,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;IACnB,QAAA,SAAA;IACJ,OAAA;IACJ,KAAA;;IAEA;IACA,IAAA,IAAIT,IAAI,GAAA,KAAA,CAAA,CAAA;QACR,IAAII,OAAO,GAAG,CAAC,EAAE;IACbP,MAAAA,OAAO,CAACC,GAAG,CAACM,OAAO,CAAC,CAAA;IACpB;UACAJ,IAAI,GAAGG,IAAI,CAACU,SAAS,CAAC,CAAC,EAAET,OAAO,CAAC,CAAA;IACjC;IACJ,KAAA;;IACA,IAAA,IAAIJ,IAAI,EAAE;IACNW,MAAAA,OAAO,CAACX,IAAI,CAACY,MAAM,CAAC,CAAA;UACpBb,MAAM,CAACC,IAAI,CAAC,CAAA;IACZ;IACJ,KAAA;IACA;IACJ,GAAA;;MACA,SAASO,aAAaA,GAAG;IACrB;QACA,IAAMb,KAAK,GAAGS,IAAI,CAACO,KAAK,CAACrB,YAAY,CAAC,CAAC;IACvC,IAAA,IAAIK,KAAK,EAAE;IACP;IACA;IACA,MAAA,IAAIgB,KAAK,GAAG;IACRF,QAAAA,OAAO,EAAEd,KAAK,CAAC,CAAC,CAAC;IACjBE,QAAAA,KAAK,EAAE,EAAA;WACV,CAAA;IACD;IACAe,MAAAA,OAAO,CAACjB,KAAK,CAAC,CAAC,CAAC,CAACkB,MAAM,CAAC,CAAA;IACxB;IACA;IACA;IACA,MAAA,IAAIE,IAAI,CAAA;IACR,MAAA,IAAIb,IAAG,CAAA;UACP,OAAO,EAAEA,IAAG,GAAGE,IAAI,CAACO,KAAK,CAACjB,aAAa,CAAC,CAAC,KAAKqB,IAAI,GAAGX,IAAI,CAACO,KAAK,CAAClB,SAAS,CAAC,CAAC,EAAE;IACzE;IACAkB,QAAAA,KAAK,CAACd,KAAK,CAACmB,IAAI,CAAC;IAAEC,UAAAA,IAAI,EAAEF,IAAI,CAAC,CAAC,CAAC;IAAEG,UAAAA,KAAK,EAAEH,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAA;IAAE,SAAC,CAAC,CAAA;IACzEH,QAAAA,OAAO,CAACG,IAAI,CAAC,CAAC,CAAC,CAACF,MAAM,CAAC,CAAA;IAE3B,OAAA;;IAGA;IACA,MAAA,IAAIX,IAAG,EAAE;IACL;IACAU,QAAAA,OAAO,CAACV,IAAG,CAAC,CAAC,CAAC,CAACW,MAAM,CAAC,CAAA;IACtB,QAAA,OAAOF,KAAK,CAAA;IAChB,OAAA;IACJ,KAAA;IAEJ,GAAA;MACA,SAASC,OAAOA,CAACO,CAAC,EAAE;IAChB;IACAf,IAAAA,IAAI,GAAGA,IAAI,CAACU,SAAS,CAACK,CAAC,CAAC,CAAA;IACxB;IACJ,GAAA;IACJ,CAAA;;IACO,SAASC,iBAAiBA,CAACC,QAAQ,EAAE;IAGxC,EAAUlB,SAAS,CAACkB,QAAQ,EAAC;IACjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC5HA;IACA;IACA,IAAIC,oBAAoB,GAAGC,KAAK,CAACC,SAAS,CAAA;;IAE1C;IACA;IACA;IACA;IACO,IAAIC,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACL,oBAAoB,CAAC,CAAA;;IAE7D;IACA,IAAIM,OAAO,GAAG,CACV,MAAM,EACN,KAAK,EACL,SAAS,EACT,OAAO,EACP,QAAQ,CACX,CAAA;;IAED;IACAA,OAAO,CAACC,OAAO,CAAC,UAAAC,IAAI,EAAI;IACpBL,EAAAA,YAAY,CAACK,IAAI,CAAC,GAAG,YAAmB;IAAA,IAAA,KAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAnB,MAAA,EAANoB,IAAI,GAAAV,IAAAA,KAAA,CAAAQ,IAAA,GAAAG,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA,EAAA,EAAA;IAAJD,MAAAA,IAAI,CAAAC,IAAA,CAAAF,GAAAA,SAAA,CAAAE,IAAA,CAAA,CAAA;IAAA,KAAA;IAClC;IACA;IACA;IACR;IACA;IACA;IACQ,IAAA,IAAIC,MAAM,GAAGb,oBAAoB,CAACQ,IAAI,CAAC,CAACM,KAAK,CAAC,IAAI,EAAEH,IAAI,CAAC,CAAA;IACzD;IACA;IACA,IAAA,IAAII,QAAQ,CAAA;IACZ,IAAA,QAAQP,IAAI;IACR,MAAA,KAAK,MAAM,CAAA;IACX,MAAA,KAAK,SAAS;IACVO,QAAAA,QAAQ,GAAGJ,IAAI,CAAA;IACf,QAAA,MAAA;IACJ,MAAA,KAAK,QAAQ;IACTI,QAAAA,QAAQ,GAAGJ,IAAI,CAACK,MAAM,CAAC,CAAC,CAAC,CAAG;IAC5B,QAAA,MAAA;IAAM,KAAA;IAGd;;IAEA,IAAA,IAAIC,EAAE,GAAG,IAAI,CAACC,MAAM,CAAA;IACpB,IAAA,IAAGH,QAAQ,EAAC;IACRE,MAAAA,EAAE,CAACE,aAAa,CAACJ,QAAQ,CAAC,CAAC;IAC/B,KAAA;;IACA,IAAA,OAAOF,MAAM,CAAA;OAChB,CAAA;IACL,CAAC,CAAC;;IChDK,SAASO,QAAQA,CAACC,IAAI,EAAE;IAC3B;;IAEA;IACA;MACA,IAAIC,OAAA,CAAOD,IAAI,CAAA,IAAI,QAAQ,IAAIA,IAAI,KAAK,IAAI,EAAE;IAC1C,IAAA,OAAOA,IAAI,CAAA;IACf,GAAA;IACA;IACA,EAAA,OAAO,IAAIE,QAAQ,CAACF,IAAI,CAAC,CAAA;IAE7B,CAAA;IAAC,IAEKE,QAAQ,gBAAA,YAAA;MACV,SAAAA,QAAAA,CAAY3B,KAAK,EAAE;IAAA4B,IAAAA,eAAA,OAAAD,QAAA,CAAA,CAAA;IACf;IACAnB,IAAAA,MAAM,CAACqB,cAAc,CAAC7B,KAAK,EAAE,QAAQ,EAAE;IACnC8B,MAAAA,UAAU,EAAE,KAAK;IACjB9B,MAAAA,KAAK,EAAE,IAAA;IACX,KAAC,CAAC,CAAA;;IAEF;IACA;IACA,IAAA,IAAIK,KAAK,CAAC0B,OAAO,CAAC/B,KAAK,CAAC,EAAE;IACtB;IACA;UACAA,KAAK,CAACgC,SAAS,GAAGzB,YAAY,CAAA;IAC9B;IACA;IACA;IACA,MAAA,IAAI,CAACgB,aAAa,CAACvB,KAAK,CAAC,CAAC;IAC9B,KAAC,MAAM;IACH;IACA,MAAA,IAAI,CAACiC,IAAI,CAACjC,KAAK,CAAC,CAAE;IACtB,KAAA;IAEJ,GAAA;IAACkC,EAAAA,YAAA,CAAAP,QAAA,EAAA,CAAA;QAAAQ,GAAA,EAAA,MAAA;IAAAnC,IAAAA,KAAA,EACD,SAAAiC,IAAKR,CAAAA,IAAI,EAAE;IAAG;IACV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA,MAAA,KAAA,IAAAW,EAAA,GAAAC,CAAAA,EAAAA,eAAA,GAAyB7B,MAAM,CAAC8B,OAAO,CAACb,IAAI,CAAC,EAAAW,EAAA,GAAAC,eAAA,CAAA1C,MAAA,EAAAyC,EAAA,EAAE,EAAA;IAA1C,QAAA,IAAAG,kBAAA,GAAAC,cAAA,CAAAH,eAAA,CAAAD,EAAA,CAAA,EAAA,CAAA,CAAA;IAAKD,UAAAA,GAAG,GAAAI,kBAAA,CAAA,CAAA,CAAA;IAAEvC,UAAAA,KAAK,GAAAuC,kBAAA,CAAA,CAAA,CAAA,CAAA;IAChBE,QAAAA,eAAe,CAAChB,IAAI,EAAEU,GAAG,EAAEnC,KAAK,CAAC,CAAA;IACrC,OAAA;IACJ,KAAA;IAAC,GAAA,EAAA;QAAAmC,GAAA,EAAA,eAAA;IAAAnC,IAAAA,KAAA,EAED,SAAAuB,aAAcvB,CAAAA,KAAK,EAAE;IAAG;IACpB,MAAA,KAAK,IAAI0C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1C,KAAK,CAACL,MAAM,EAAE+C,CAAC,EAAE,EAAE;IACnClB,QAAAA,QAAQ,CAACxB,KAAK,CAAC0C,CAAC,CAAC,CAAC,CAAA;IACtB,OAAA;IACJ,KAAA;IAAC,GAAA,CAAA,CAAA,CAAA;IAAA,EAAA,OAAAf,QAAA,CAAA;IAAA,CAGL,EAAA,CAAA;IACA,SAASc,eAAeA,CAAChB,IAAI,EAAEU,GAAG,EAAEnC,KAAK,EAAE;MACvCwB,QAAQ,CAACxB,KAAK,CAAC,CAAC;IAChBQ,EAAAA,MAAM,CAACqB,cAAc,CAACJ,IAAI,EAAEU,GAAG,EAAE;IAC7B;QACAQ,GAAG,EAAA,SAAAA,MAAG;IACF;IACA,MAAA,OAAO3C,KAAK,CAAE;SACjB;QACD4C,GAAG,EAAA,SAAAA,GAACC,CAAAA,QAAQ,EAAE;IACV;IACA,MAAA,IAAIA,QAAQ,KAAK7C,KAAK,EAAE,OAAOA,KAAK,CAAA;UACpCwB,QAAQ,CAACqB,QAAQ,CAAC,CAAE;IACpB7C,MAAAA,KAAK,GAAG6C,QAAQ,CAAA;IACpB,KAAA;IACJ,GAAC,CAAC,CAAA;IACN,CAAA;;IAGA;;IAEA;;IAEA;IACA;IACA;IACA;;IAGA;IACA;;IC1FO,SAASC,SAASA,CAACC,EAAE,EAAE;IAC1B,EAAA,IAAIC,IAAI,GAAGD,EAAE,CAACE,QAAQ,CAAA;IACtB;IACA;MACA,IAAGD,IAAI,CAACE,KAAK,EAAC,CAEd;MACA,IAAGF,IAAI,CAACvB,IAAI,EAAC;QACT0B,QAAQ,CAACJ,EAAE,CAAC,CAAA;IAChB,GAAA;MACA,IAAGC,IAAI,CAACI,KAAK,EAAC,CAEd;MACA,IAAGJ,IAAI,CAACK,QAAQ,EAAC,CAEjB;MACA,IAAGL,IAAI,CAACtC,OAAO,EAAC,CAEhB;;IAYA;MACA,SAASyC,QAAQA,CAACJ,EAAE,EAAE;IAClB;IACA,IAAA,IAAItB,IAAI,GAAGsB,EAAE,CAACE,QAAQ,CAACxB,IAAI,CAAA;IAC3BsB,IAAAA,EAAE,CAACO,KAAK,GAAG,OAAO7B,IAAI,KAAK,UAAU,GAAGA,IAAI,CAAC8B,IAAI,CAACR,EAAE,CAAC,GAACtB,IAAI,CAAC;QAC3DA,IAAI,GAAGsB,EAAE,CAACO,KAAK,CAAA;IACf;IACA;;IAEA,IAAA,KAAI,IAAInB,GAAG,IAAIV,IAAI,EAAC;IAChB+B,MAAAA,KAAK,CAACT,EAAE,EAAC,OAAO,EAACZ,GAAG,CAAC,CAAA;IACzB,KAAA;QACAX,QAAQ,CAACC,IAAI,CAAC,CAAA;IAClB,GAAA;IAEA,EAAA,SAAS+B,KAAKA,CAACT,EAAE,EAACU,MAAM,EAACtB,GAAG,EAAE;IAC1B3B,IAAAA,MAAM,CAACqB,cAAc,CAACkB,EAAE,EAACZ,GAAG,EAAC;UACzBQ,GAAG,EAAA,SAAAA,MAAG;IACF,QAAA,OAAOI,EAAE,CAACU,MAAM,CAAC,CAACtB,GAAG,CAAC,CAAA;WACzB;UACDS,GAAG,EAAA,SAAAA,GAACC,CAAAA,QAAQ,EAAE;IACVE,QAAAA,EAAE,CAACU,MAAM,CAAC,CAACtB,GAAG,CAAC,GAAGU,QAAQ,CAAA;IAC9B,OAAA;IACJ,KAAC,CAAC,CAAA;IACN,GAAA;;IAEA;IAKJ;;IC5DA;IACO,SAASa,SAASA,CAACC,GAAG,EAAE;IAC3B;IACAA,EAAAA,GAAG,CAACrD,SAAS,CAACsD,KAAK,GAAG,UAAUC,OAAO,EAAE;IACrC;;IAEA;QACA,IAAId,EAAE,GAAG,IAAI,CAAA;;IAEb;QACAA,EAAE,CAACE,QAAQ,GAAGY,OAAO,CAAA;;IAErB;QACAf,SAAS,CAACC,EAAE,CAAC,CAAA;IACbnE,IAAAA,OAAO,CAACC,GAAG,CAACkE,EAAE,CAAC,CAAA;;IAGf;IACA,IAAA,IAAIA,EAAE,CAACE,QAAQ,CAACa,EAAE,EAAE;UAChBf,EAAE,CAACgB,MAAM,CAAChB,EAAE,CAACE,QAAQ,CAACa,EAAE,CAAC,CAAA;IAE7B,KAAA;OAEH,CAAA;;IAED;IACAH,EAAAA,GAAG,CAACrD,SAAS,CAACyD,MAAM,GAAG,UAAUD,EAAE,EAAE;IACjClF,IAAAA,OAAO,CAACC,GAAG,CAACiF,EAAE,CAAC,CAAA;IACf;QACA,IAAIf,EAAE,GAAG,IAAI,CAAA;IACbe,IAAAA,EAAE,GAAGE,QAAQ,CAACC,aAAa,CAACH,EAAE,CAAC,CAAE;IACjC,IAAA,IAAID,OAAO,GAAGd,EAAE,CAACE,QAAQ,CAAA;IACzB,IAAA,IAAG,CAACY,OAAO,CAACK,MAAM,EAAE;IAAG;IACnB,MAAA,IAAI/D,QAAQ,GAAG0D,OAAO,CAAC1D,QAAQ,CAAA;IAC/B,MAAA,IAAG,CAACA,QAAQ,IAAI2D,EAAE,EAAE;IAChB;YACAA,EAAE,GAAGA,EAAE,CAACK,SAAS,CAAA;IACjBvF,QAAAA,OAAO,CAACC,GAAG,CAACiF,EAAE,CAAC,CAAA;;IAEf;IACA,QAAU5D,iBAAiB,CAAC4D,EAAE,EAAC;;IAE/B;IACJ,OAAA;IACJ,KAAA;OACH,CAAA;IACL,CAAA;;IAEA;IACC;IACD;IACA;IACA;IACA;IACA;IACA;;ICxDA,SAASH,GAAGA,CAACE,OAAO,EAAE;IAClB;IACA;IACA,EAAA,IAAI,CAACD,KAAK,CAACC,OAAO,CAAC,CAAA;IAEvB,CAAA;IAEAH,SAAS,CAACC,GAAG,CAAC;;;;;;;;"}